// tslint:disable: max-line-length
import { KeyValuePipe } from '@angular/common';
import { HttpClientModule, HttpErrorResponse } from '@angular/common/http';
import { HttpClientTestingModule } from '@angular/common/http/testing';
import { ComponentFixture, TestBed, waitForAsync } from '@angular/core/testing';
import { FormsModule } from '@angular/forms';
import { MatCardModule } from '@angular/material/card';
import { MatChipInputEvent, MatChipsModule } from '@angular/material/chips';
import { MatDialogModule, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';
import { MatFormFieldModule } from '@angular/material/form-field';
import { MatInputModule } from '@angular/material/input';
import { MatSelectModule } from '@angular/material/select';
import { BrowserAnimationsModule, NoopAnimationsModule } from '@angular/platform-browser/animations';
import { CanvasTestHelper } from '@app/classes/canvas-test-helper';
import { Tag } from '@app/classes/tag';
import { ServerCommunicationService } from '@app/services/communication/server-communication.service';
import { DrawingService } from '@app/services/drawing/drawing.service';
import { ImageDb, ImageId } from '@common/communication/image';
import { Message } from '@common/communication/message';
import { Observable, Subject } from 'rxjs';
import { DisplayImagesComponent } from './display-images.component';

// tslint:disable: no-string-literal
class DrawingServiceMock {
    canvas: HTMLCanvasElement = new CanvasTestHelper().canvas;
    baseCtx: CanvasRenderingContext2D = this.canvas.getContext('2d') as CanvasRenderingContext2D;
    isPointsOnCanvas(x: number, y: number): boolean {
        return x <= this.canvas.width && x >= 0 && y <= this.canvas.height && y >= 0;
    }
    getPixelColor(): string {
        return '#ffffff';
    }
    saveCanvas(): void {
        return;
    }
}

// tslint:disable-next-line: max-classes-per-file
class ServerCommunicationServiceMock {
    getObserverFromServerGetAllImageWithData(): Observable<ImageDb[]> {
        return new Subject<ImageDb[]>().asObservable();
    }
    deleteObserverFromServerDeleteDatabaseAndServer(id: ImageId): Observable<Message> {
        return new Subject<Message>().asObservable();
    }
}

describe('DisplayImagesComponent', () => {
    let component: DisplayImagesComponent;
    let fixture: ComponentFixture<DisplayImagesComponent>;
    beforeEach(
        waitForAsync(() => {
            TestBed.configureTestingModule({
                imports: [
                    HttpClientModule,
                    MatDialogModule,
                    BrowserAnimationsModule,
                    NoopAnimationsModule,
                    MatSelectModule,
                    MatChipsModule,
                    MatFormFieldModule,
                    MatInputModule,
                    FormsModule,
                    MatCardModule,
                ],
                declarations: [DisplayImagesComponent, KeyValuePipe],
                providers: [
                    { provide: HttpClientTestingModule, usevalue: {} },
                    { provide: ServerCommunicationService, useValue: new ServerCommunicationServiceMock() },

                    {
                        provide: MatDialogRef,
                        useValue: {
                            close(): void {
                                // empty
                            },
                        },
                    },
                    {
                        provide: MAT_DIALOG_DATA,
                        useValue: {
                            name: '',
                            tags: [] as Tag[],
                            imageFormat: '',
                        },
                    },
                    { provide: DrawingService, useValue: new DrawingServiceMock() },
                ],
            }).compileComponents();
        }),
    );

    beforeEach(() => {
        fixture = TestBed.createComponent(DisplayImagesComponent);
        component = fixture.componentInstance;
        fixture.detectChanges();
    });

    afterEach(() => {
        component.dialog.closeAll();
    });

    it('initializeData should try to get all the data from the server and database', () => {
        const subject = new Subject<ImageDb[]>();
        const x: ImageDb[] = [];
        const spyServer = spyOn(component['serverCommunicationService'], 'getObserverFromServerGetAllImageWithData').and.callFake(() => {
            return subject.asObservable();
        });
        const spy = spyOn(component, 'placeDataInArrayImage').and.callFake(() => {
            return;
        });
        const spy2 = spyOn(component, 'placeDataInArrayImageClone').and.callFake(() => {
            return;
        });
        component.initializeData();
        subject.next(x);
        expect(spyServer).toHaveBeenCalled();
        expect(spy).toHaveBeenCalled();
        expect(spy2).toHaveBeenCalled();
    });

    it('Delete Image should call initializeData and delete the image', () => {
        const image = {
            title: 'image',
            tags: ['tag'],
            data:
                'data:image/png;base64,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',
            fileExtension: 'png',
            _id: '123456789012',
        } as ImageDb;
        component.data.listImage = [image];
        const subject = new Subject<Message>();
        const spyServer = spyOn(component['serverCommunicationService'], 'deleteObserverFromServerDeleteDatabaseAndServer').and.callFake(
            (imageid: ImageId) => {
                return subject.asObservable();
            },
        );
        const data: Message = { body: 'salut', title: 'youpi' };
        const error: HttpErrorResponse = {} as HttpErrorResponse;
        const spy = spyOn(component, 'dataWasDeletedInServer').and.callFake(() => {
            return;
        });
        const spyError = spyOn(component, 'manageError').and.callFake(() => {
            return;
        });

        component.deleteImage(image);
        subject.next(data);
        subject.error(error);
        expect(component.data.listImage.length).toEqual(0);
        expect(spyServer).toHaveBeenCalled();
        expect(spy).toHaveBeenCalled();
        expect(spyError).toHaveBeenCalled();
    });

    it(' manageError, should display an error', () => {
        const error = {} as HttpErrorResponse;
        const spy = spyOn(component.dialog, 'open').and.callThrough();
        component.manageError(error);
        expect(spy).toHaveBeenCalled();
    });

    it(' placerDataDansListImage, should put all the data of image in the dataImageliste', () => {
        component.data.listImage = [];
        const image = {
            title: 'image',
            tags: ['tag'],
            data:
                'data:image/png;base64,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',
            fileExtension: 'png',
            _id: '123456789012',
        } as ImageDb;
        const imageListe: ImageDb[] = [image];
        component.placeDataInArrayImage(imageListe);
        expect(component.data.listImage.length).toEqual(1);
    });

    it(' placerDataDansListImageClone, should put all the data of image in the arrayImageTagFilter', () => {
        component.carouselService.arrayImageTagFilter = [];
        const image = {
            title: 'image',
            tags: ['tag'],
            data:
                'data:image/png;base64,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',
            fileExtension: 'png',
            _id: '123456789012',
        } as ImageDb;
        const imageListe: ImageDb[] = [image];
        const spy = spyOn(component.carouselService, 'setFilterOfArrayImage').and.callFake(() => {
            return;
        });
        const spy2 = spyOn(component, 'setUpImageDisplayCarousel').and.callFake(() => {
            return;
        });

        component.placeDataInArrayImageClone(imageListe);
        expect(spy).toHaveBeenCalled();
        expect(spy2).toHaveBeenCalled();
    });

    it('should create', () => {
        expect(component).toBeTruthy();
    });

    it(' on setUpArrayCarousel, if length of the list that contains the image is equal to 2, clear rect should be call with ctxArray[2]', () => {
        // tslint:disable: no-empty
        // tslint:disable: no-string-literal
        // tslint:disable-next-line: no-any
        const spy = spyOn(component.carouselService.ctxArray[2], 'clearRect').and.callThrough();
        const image = {
            title: 'image',
            tags: ['tag'],
            data:
                // tslint:disable-next-line: max-line-length
                'data:image/png;base64,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',
            fileExtension: 'png',
            _id: '123456789012',
        } as ImageDb;

        const baseImageDb2 = {
            title: 'image',
            tags: ['tag'],
            data:
                // tslint:disable-next-line: max-line-length
                'data:image/png;base64,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',
            fileExtension: 'png',
            _id: '123456789012',
        } as ImageDb;

        component.carouselService.arrayImageTagFilter.push(image);
        component.carouselService.arrayImageTagFilter.push(baseImageDb2);
        component.setUpImageDisplayCarousel(component.carouselService.arrayImageTagFilter);
        expect(spy).toHaveBeenCalled();
    });

    it(' on setUpArrayImageFilter, it should filter the array according to the tag from the carousel', () => {
        const image = {
            title: 'image',
            tags: ['tag'],
            data:
                'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAYAAACI7Fo9AAAHa0lEQVR4Xu3aUYoUaxCE0ZqViTtzZ+LOpIV5Ee1uiqoIMY5P92Gmk/9kfujV+Tj8IkDgvxf4+O9f6IEECBxCdwQEBgSEPrBkTyQgdDdAYEBA6ANL9kQCQncDBAYEhD6wZE8kIHQ3QGBAQOgDS/ZEAkJ3AwQGBIQ+sGRPJCB0N0BgQEDoA0v2RAJCdwMEBgSEPrBkTyQgdDdAYEBA6ANL9kQCQncDBAYEhD6wZE8kIHQ3QGBAQOgDS/ZEAkJ3AwQGBIQ+sGRPJCB0N0BgQEDoA0v2RAJCdwMEBgSEPrBkTyQgdDdAYEBA6ANL9kQCQncDBAYEhD6wZE8kIHQ3QGBAQOgDS/ZEAkJ3AwQGBIQ+sGRPJCB0N0BgQEDoA0v2RAJCdwMEBgSEPrBkTyQgdDdAYEBA6ANL9kQCQncDBAYEhD6wZE8kIHQ3QGBAQOgDS/ZEAkJ3AwQGBIQ+sGRPJCB0N0BgQEDoA0v2RAJCdwMEBgSEPrBkTyQgdDdAYEBA6ANL9kQCQncDBAYEhD6wZE8kIHQ3QGBAQOgDS/ZEAkJ3AwQGBIQ+sGRPJCB0N0BgQEDoA0v2RAJCdwMEBgSEPrBkTyQgdDdAYEBA6ANL9kQCQncDBAYEhD6wZE8kIHQ3QGBAQOgDS/ZEAkJ3AwQGBIQ+sGRPJCB0N0BgQEDoA0v2RAJCdwMEBgSEPrBkTyQgdDdAYEBA6ANL9kQCQncDBAYEhD6wZE8kIHQ3QGBAQOgDS/ZEAkJ3AwQGBIQ+sGRPJCB0N0BgQEDoA0v2RAJCdwMEBgSEPrBkTyQgdDdAYEBA6ANL9kQCQncDBAYEhD6wZE8kIHQ3QGBAQOgDS/ZEAkJ3AwQGBIQ+sGRPJCB0N0BgQEDoA0v2RAJCdwMEBgSEPrBkTyQgdDdAYEBA6ANL9kQCQncDBAYEhD6wZE8kIHQ3QGBAQOgDS/ZEAkJ3AwQGBIQ+sGRPJCB0N0BgQEDoA0v2RAJCdwMEBgSEPrBkTyQgdDdAYEBA6ANL9kQCQncDBAYEhD6wZE8kIHQ3QGBAQOgDS/ZEAkJ3AwQGBIQ+sGRPJCB0N0BgQEDoA0v2RAJCdwMEBgSEPrBkTyQgdDdAYEBA6ANL9kQCQncDBAYEhD6w5H/0id+O4/hyHMeP4zge/+3XjQJCvxHXR78UEPtLomu+QOjXOPqU8wKfv5v7Xf284cvvFPpLIl9ws4DQbwZ+fLzQA8hGPBX4/OP7V073CQj9Pluf/L7Ad38p9z7Wma8U+hk133O1gD++Xy362+cJ/WZgH/+WgNDfYjr/RUI/b+c7rxMQ+nWWf/wkod8M7OPfEvD/6G8xnf8ioZ+3853XCPhb92scn36K0APIRjwV8Lt54ECEHkA24q8/y/74WffHL/+GfvORCP1mYB//S+DZj7f60dfAkQg9gGwEgbaA0NsbMJ9AQEDoAWQjCLQFhN7egPkEAgJCDyAbQaAtIPT2BswnEBAQegDZCAJtAaG3N2A+gYCA0APIRhBoCwi9vQHzCQQEhB5ANoJAW0Do7Q2YTyAgIPQAshEE2gJCb2/AfAIBAaEHkI0g0BYQensD5hMICAg9gGwEgbaA0NsbMJ9AQEDoAWQjCLQFhN7egPkEAgJCDyAbQaAtIPT2BswnEBAQegDZCAJtAaG3N2A+gYCA0APIRhBoCwi9vQHzCQQEhB5ANoJAW0Do7Q2YTyAgIPQAshEE2gJCb2/AfAIBAaEHkI0g0BYQensD5hMICAg9gGwEgbaA0NsbMJ9AQEDoAWQjCLQFhN7egPkEAgJCDyAbQaAtIPT2BswnEBAQegDZCAJtAaG3N2A+gYCA0APIRhBoCwi9vQHzCQQEhB5ANoJAW0Do7Q2YTyAgIPQAshEE2gJCb2/AfAIBAaEHkI0g0BYQensD5hMICAg9gGwEgbaA0NsbMJ9AQEDoAWQjCLQFhN7egPkEAgJCDyAbQaAtIPT2BswnEBAQegDZCAJtAaG3N2A+gYCA0APIRhBoCwi9vQHzCQQEhB5ANoJAW0Do7Q2YTyAgIPQAshEE2gJCb2/AfAIBAaEHkI0g0BYQensD5hMICAg9gGwEgbaA0NsbMJ9AQEDoAWQjCLQFhN7egPkEAgJCDyAbQaAtIPT2BswnEBAQegDZCAJtAaG3N2A+gYCA0APIRhBoCwi9vQHzCQQEhB5ANoJAW0Do7Q2YTyAgIPQAshEE2gJCb2/AfAIBAaEHkI0g0BYQensD5hMICAg9gGwEgbaA0NsbMJ9AQEDoAWQjCLQFhN7egPkEAgJCDyAbQaAtIPT2BswnEBAQegDZCAJtAaG3N2A+gYCA0APIRhBoCwi9vQHzCQQEhB5ANoJAW0Do7Q2YTyAgIPQAshEE2gJCb2/AfAIBAaEHkI0g0BYQensD5hMICAg9gGwEgbaA0NsbMJ9AQEDoAWQjCLQFhN7egPkEAgJCDyAbQaAtIPT2BswnEBAQegDZCAJtAaG3N2A+gYCA0APIRhBoCwi9vQHzCQQEhB5ANoJAW0Do7Q2YTyAgIPQAshEE2gI/Aa/AE/sRu5HxAAAAAElFTkSuQmCC',
            fileExtension: 'png',
            _id: '123456789012',
        } as ImageDb;
        const tag = new Tag('tag');
        component.data.tagsCarousel = [tag];
        component.data.listImage = [image];
        component.carouselService.setFilterOfArrayImage(component.data.listImage, component.data.tagsCarousel);
        expect(component.carouselService.arrayImageTagFilter.length).toBe(1);
        expect(component.carouselService.arrayImageTagFilter.length).toBe(1);
    });
    it(' on avancerCarousel, it should make the carousel go foward', () => {
        const image1 = {
            title: 'image',
            tags: ['tag'],
            data:
                'data:image/png;base64,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',
            fileExtension: 'png',
            _id: '123456789012',
        } as ImageDb;
        const image2 = {
            title: 'image',
            tags: ['tag'],
            data:
                'data:image/png;base64,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',
            fileExtension: 'png',
            _id: '123456789012',
        } as ImageDb;
        const image3 = {
            title: 'image',
            tags: ['tag'],
            data:
                'data:image/png;base64,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',
            fileExtension: 'png',
            _id: '123456789012',
        } as ImageDb;
        component.carouselService.arrayImageTagFilter = [image1, image2, image3];
        const MAX = 3;
        const positionImage = 4;
        component.carouselService.arrayCarousel.length = MAX;
        component.carouselService.arrayCarousel[0] = positionImage;
        component.carouselService.avancerCarousel();
        expect(component.carouselService.arrayCarousel.length).toBe(MAX);
        expect(component.carouselService.arrayCarousel[0]).toEqual(0);
    });

    it(' on reculerCarousel, it should make the carousel go backward', () => {
        const image1 = {
            title: 'image',
            tags: ['tag'],
            data:
                'data:image/png;base64,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',
            fileExtension: 'png',
            _id: '123456789012',
        } as ImageDb;
        const image2 = {
            title: 'image',
            tags: ['tag'],
            data:
                'data:image/png;base64,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',
            fileExtension: 'png',
            _id: '123456789012',
        } as ImageDb;
        const image3 = {
            title: 'image',
            tags: ['tag'],
            data:
                'data:image/png;base64,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',
            fileExtension: 'png',
            _id: '123456789012',
        } as ImageDb;
        component.carouselService.arrayImageTagFilter = [image1, image2, image3];
        const MAX = 3;
        const positionImage = -1;
        component.carouselService.arrayCarousel[0] = positionImage;
        component.carouselService.arrayCarousel.length = MAX;
        component.carouselService.reculerCarousel();
        expect(component.carouselService.arrayCarousel.length).toBe(MAX);
        expect(component.carouselService.arrayCarousel[0]).toEqual(2);
    });
    it(' on setUpArrayCarousel, if length of the list that contains the image is equal to 1, clear rect should be call with ctxArray[2] and ctxArray[1]', () => {
        const image = {
            title: 'image',
            tags: ['tag'],
            data:
                'data:image/png;base64,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',
            fileExtension: 'png',
            _id: '123456789012',
        } as ImageDb;
        // tslint:disable-next-line: no-any
        const spyCtxArray2 = spyOn<any>(component.carouselService.ctxArray[2], 'clearRect').and.callThrough();
        component.carouselService.arrayImageTagFilter.push(image);
        component['canvasArrayMaxLength'] = 0;
        component.setUpImageDisplayCarousel(component.carouselService.arrayImageTagFilter);
        expect(spyCtxArray2).not.toHaveBeenCalled();
    });

    it(' on setUpArrayCarousel, if length of the list that contains the image is equal to 1, clear rect should be call with ctxArray[2] and ctxArray[1]', () => {
        // tslint:disable: no-empty
        // tslint:disable: no-string-literal

        const image = {
            title: 'image',
            tags: ['tag'],
            data:
                'data:image/png;base64,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',
            fileExtension: 'png',
            _id: '123456789012',
        } as ImageDb;
        // tslint:disable-next-line: no-any
        const spyCtxArray2 = spyOn<any>(component.carouselService.ctxArray[2], 'clearRect').and.callThrough();
        // tslint:disable-next-line: no-any
        const spyCtxArray1 = spyOn<any>(component.carouselService.ctxArray[1], 'clearRect').and.callThrough();
        component.carouselService.arrayImageTagFilter.push(image);
        component.setUpImageDisplayCarousel(component.carouselService.arrayImageTagFilter);
        expect(spyCtxArray2).toHaveBeenCalled();
        expect(spyCtxArray1).toHaveBeenCalled();
    });
    it(' on setUpArrayCarousel, if length of the list that contains the image is equal to 1, clear rect should be call with ctxArray[2], ctxArray[1] and ctxArray[0]', () => {
        // tslint:disable-next-line: no-any
        const spyCtxArray2 = spyOn<any>(component.carouselService.ctxArray[2], 'clearRect').and.callThrough();
        // tslint:disable-next-line: no-any
        const spyCtxArray1 = spyOn<any>(component.carouselService.ctxArray[1], 'clearRect').and.callThrough();
        // tslint:disable-next-line: no-any
        const spyCtxArray0 = spyOn<any>(component.carouselService.ctxArray[0], 'clearRect').and.callThrough();
        component.setUpImageDisplayCarousel(component.carouselService.arrayImageTagFilter);
        expect(spyCtxArray2).toHaveBeenCalled();
        expect(spyCtxArray1).toHaveBeenCalled();
        expect(spyCtxArray0).toHaveBeenCalled();
    });
    it(' On ifTitleNull, if size  = 2, card3Title should be false', () => {
        component.carouselService.ifTitleNull(2);
        expect(component.carouselService.card3Title).toEqual(false);
    });
    it(' On ifTitleNull, if size  = 1, card3Title and card2Title should be false ', () => {
        component.carouselService.ifTitleNull(1);
        expect(component.carouselService.card3Title).toEqual(false);
        expect(component.carouselService.card2Title).toEqual(false);
    });
    it(' On ifTitleNull, if size  = 0, card3Title, card2Title and card1Title should be false ', () => {
        component.carouselService.ifTitleNull(0);
        expect(component.carouselService.card3Title).toEqual(false);
        expect(component.carouselService.card2Title).toEqual(false);
        expect(component.carouselService.card1Title).toEqual(false);
    });

    it(' Deleting message, should call MatDialog for displaing the message', () => {
        // tslint:disable: no-empty
        // tslint:disable: no-string-literal

        const spy = spyOn(component.dialog, 'open').and.callThrough();
        component.deletingSuccess();
        expect(spy).toHaveBeenCalled();
    });

    it('if dataWasDeletedInServer is called, deletingSuccess is called.', () => {
        const spy = spyOn(component, 'deletingSuccess').and.callThrough();
        component.dataWasDeletedInServer();
        expect(spy).toHaveBeenCalled();
    });

    it('on afficherImage, clearRect with ctxArray[0] should be called if canvasPos = 0', () => {
        const stringTest = 'test';
        // tslint:disable-next-line: no-any
        const spyCtxArray = spyOn<any>(component.carouselService.ctxArray[0], 'clearRect').and.callThrough();
        const numberTest = 0;
        component.displayImage(stringTest, numberTest);
        expect(spyCtxArray).toHaveBeenCalled();
    });
    it('on afficherImage, clearRect with ctxArray[1] should be called if canvasPos = 1', () => {
        const stringTest = 'test';
        // tslint:disable-next-line: no-any
        const spyCtxArray = spyOn<any>(component.carouselService.ctxArray[1], 'clearRect').and.callThrough();
        const numberTest = 1;
        component.displayImage(stringTest, numberTest);
        expect(spyCtxArray).toHaveBeenCalled();
    });
    it('on afficherImage, clearRect with ctxArray[2] should be called if canvasPos = 2', () => {
        const stringTest = 'test';
        // tslint:disable-next-line: no-any
        const spyCtxArray = spyOn<any>(component.carouselService.ctxArray[2], 'clearRect').and.callThrough();
        const numberTest = 2;
        component.displayImage(stringTest, numberTest);
        expect(spyCtxArray).toHaveBeenCalled();
    });
    it('on afficherImage, clearRect with ctxArray[2] should be called if canvasPos = 2', () => {
        const stringTest = 'test';
        // tslint:disable-next-line: no-any
        const spyCtxArray = spyOn<any>(component.carouselService.ctxArray[2], 'clearRect').and.callThrough();
        const numberTest = 2;
        component.displayImage(stringTest, numberTest);
        expect(spyCtxArray).toHaveBeenCalled();
    });

    it('The method add should add a tags', () => {
        const event = { input: {} as HTMLInputElement, value: 'newTag' } as MatChipInputEvent;
        component.add(event);
        let present = false;
        for (const tag of component.data.tagsCarousel) {
            if (tag.tagName === 'newTag') {
                present = true;
                break;
            }
        }
        expect(present).toBeTrue();
    });

    it('The method remove should remove a tag', () => {
        const tag = new Tag('test');
        component.data.tagsCarousel = [tag];
        component.remove(tag);
        expect(component.data.tagsCarousel.length).toBe(0);
    });

    it('The method remove should not remove a tag if he is not in the list', () => {
        const tag = new Tag('test');
        component.data.tagsCarousel = [tag];
        component.remove(new Tag('dwadad'));
        expect(component.data.tagsCarousel.length).toBe(1);
    });
    it('When you charge your image the carousel should be close and your image ut on the canvas', () => {
        const data = '';
        const spy1 = spyOn(component, 'onCancel').and.callThrough();
        const spy2 = spyOn(component, 'chargingData').and.callThrough();

        component.chargerImage(data);

        expect(spy1).toHaveBeenCalled();
        expect(spy2).toHaveBeenCalled();
    });

    it('ChargingData should call savecanvas and clearHistory', () => {
        const spy = spyOn(component.dialog, 'open').and.callThrough();
        // const spy1 = spyOn(component['drawingService'], 'saveCanvas').and.callThrough();
        const spy2 = spyOn(component['undoRedoService'], 'clearHistory').and.callThrough();

        component.chargingData();

        expect(spy).toHaveBeenCalled();
        // expect(spy1).toHaveBeenCalled();
        expect(spy2).toHaveBeenCalled();
    });

    it('If dataWasWrittenInServer is called, dialogRef.close was called, and writingSuccess is called.', () => {
        const spy2 = spyOn(component, 'writingSuccess').and.callThrough();
        const data: Message = { title: 'salut', body: 'allo' };
        component.dataWasWrittenInServer(data);
        expect(spy2).toHaveBeenCalled();
    });

    it('on remove ,all the cardTitle are now true and the setUp fonctions are called as well as validateTag()', () => {
        const spyValidate = spyOn(component.carouselService, 'validateTags').and.callThrough();
        const spySetUpImageFilter = spyOn(component.carouselService, 'setFilterOfArrayImage').and.callThrough();
        const spySetUpCarrousel = spyOn(component, 'setUpImageDisplayCarousel').and.callThrough();
        const tag = new Tag('test');
        component.remove(tag);
        expect(spyValidate).toHaveBeenCalled();
        expect(spySetUpImageFilter).toHaveBeenCalled();
        expect(spySetUpCarrousel).toHaveBeenCalled();
        expect(component.carouselService.card1Title).toBeTrue();
        expect(component.carouselService.card2Title).toBeTrue();
        expect(component.carouselService.card3Title).toBeTrue();
    });

    it('When the user cancel the dialog should be close', () => {
        // tslint:disable: no-empty
        // tslint:disable: no-string-literal
        const spy = spyOn(component['dialogRef'], 'close').and.callFake(() => {});
        component.onCancel();
        expect(spy).toHaveBeenCalled();
    });

    it(' should call the carousel moving foward with right arrow', () => {
        const event = { key: 'ArrowRight' } as KeyboardEvent;
        const keyEventSpy = spyOn(component.carouselService, 'avancerCarousel').and.callThrough();
        component.handleKeyboardEvent(event);
        expect(keyEventSpy).toHaveBeenCalled();
    });

    it(' should call the carousel moving backward with right arrow', () => {
        const event = { key: 'ArrowLeft' } as KeyboardEvent;
        const keyEventSpy = spyOn(component.carouselService, 'reculerCarousel').and.callThrough();
        component.handleKeyboardEvent(event);
        expect(keyEventSpy).toHaveBeenCalled();
    });
    // tslint:disable-next-line: max-file-line-count
});
